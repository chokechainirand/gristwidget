<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Chart</title>
    <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-stock.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>
    <script src="https://cdn.anychart.com/csv-data/msft-daily-short-data(2011-2016).js"></script>
    <script src="https://cdn.anychart.com/releases/v8/themes/dark_turquoise.min.js"></script>
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">
    <style type="text/css">
        html,
        body,
        #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    version 5
    <pre id="readout">Waiting for data...</pre>
    <div id="container"></div>

    <script>
        let datamap = '';
        let aa = [];



        anychart.onDocumentReady(function () {

            grist.ready();
            grist.onRecords(function (records) {
                data = JSON.stringify(records, null, 2);
                datamap = JSON.parse(data)
                var dataTable = anychart.data.table();
                Object.keys(datamap).forEach(function (e) {

                    aa.push(
                        [
                            datamap[e]['time'],
                            datamap[e]['c1_percent'],
                            datamap[e]['high24hr'],
                            datamap[e]['low24hr'],
                            datamap[e]['vd'],
                            datamap[e]['last'],
                            datamap[e]['quoteVolume'],

                        ]);
                });
            
               













            });









        });






    </script>
</body>

</html>